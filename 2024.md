# Halloween 2024

## Power distribution

In 2023, all nodes (apart from the coordinator) were battery powered. This
offered great flexibility as to positioning but required a lot of batteries
and meant the whole system could not easily be turned off (or on) with a
single switch. For 2024, I looked for more mains powered distribution to
solve this problem.

## New nodes

**Sensors**
Separate boxes for sensors to make the entire system automatic. It mostly worked.

**Spiders**

This is something that was prototyped for 2023 but we ran out
  of time to implement. In essence, a node controled LEDs that are drilled
  into the eyes of some spiders and made to pulse on command. However, the
  final implementation reused a lot of parts from the 2023 path nodes and
  used NeoPixels and a 3D printed holder that projected eyes and lines onto
  glow-in-the-dark spiders. It was very effective.

**Projector**

This was really easy to add and very effective.

**TV**

This was used as an attract with blinking eyes. Very easy to add and very
effective.

**Thunder and lightning**

This was integrated into the spiders node to save
  time. That was a mistake due to power draw.

## Replaced nodes

**Path**

Both the left and right path nodes were fragile and the wireless
  communications introduced tiny delays that were noticeable when trying to
  sync their actions. These two nodes will use 6 separate rings of NeoPixels
  each (1 per skull) rather than one single chain of NeoPixels to control
  chained to the 6 skulls. The communication between the nodes will be direct
  (likely over UART cable but possibly Wi-Fi) to remove delay. The nodes
  will not need to communicate via the coordinator as they will each have
  an ultrasonic sensor so become largely autonomous.

## Upgraded nodes

**Witch**

This had an atomiser added to the cauldron to give a more realistic effect.
It reused 3 of the 2023 boxes for multiple sounds; though the 2023 boxes are
much quieter than the 2024 boxes.

We will also added a life-sized witch (actually a mannequin wearing a witches
outfit).
  
## Original nodes

**Creepy head**

This is actually a MakeCode Arcade based board with screens so a completely different
kind of node. It does have a second Pico based board that drives the speaker in the
head but it just plays a background sound on repeat.

## Evaluation 

Whilst bigger and more impressive, the 2024 installation highlighted new issues.
Even though the re-architecting of the code in the
[pico-interactive](https://github.com/danielbloy/pico-interactive) project made
it better tested and more flexible, it also increased the RAM requirements so the
nodes still required multiple Pico microcontrollers to work. That resulted in me
starting work on a newer more lightweight and modular framework called
[Circuit Python Toolkit for Interactive Projects (CPTKIP)](https://github.com/danielbloy/cptkip).
The newer "boxes" which control the electronics built for 2024 were much more robust
and easy to connect together than the 2023 "boxes" but the tradeoff was them being
much more bulky and taking a significant amount of time to build. I guess you live
and learn.
